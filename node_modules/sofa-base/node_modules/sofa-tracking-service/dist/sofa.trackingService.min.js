!function(a){"use strict";a.define("sofa.TrackingService",function(b,c,d){var e={},f=e.__trackers=[];return e.addTracker=function(a){if(!a.setup)throw new Error("tracker must implement a setup method");if(!a.trackEvent)throw new Error("tracker must implement a trackEvent method");if(!a.trackTransaction)throw new Error("tracker must implement a trackTransaction method");a.setup(),f.push(a)},e.trackEvent=function(a){f.forEach(function(b){b.trackEvent(a)})},e.trackTransaction=function(b){var e=d.get("checkoutUrl")+"summaryfin.php";c.get(e+"?token="+b+"&details=get").then(function(c){var d=a.Util.toJson(c.data);d.token=b,f.forEach(function(a){a.trackTransaction(d)})})},e})}(sofa);