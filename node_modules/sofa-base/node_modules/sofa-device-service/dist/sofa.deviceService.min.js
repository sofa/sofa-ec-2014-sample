!function(a,b){"use strict";a.define("sofa.DeviceService",function(a){var c,d,e,f,g,h={},i=navigator.userAgent,j="cc-modern-flexbox",k="cc-no-modern-flexbox",l="cc-ipad-ios-7";h.getHtmlTag=function(){return c=c||b.getElementsByTagName("html")[0]},i.match(/iPad/i)||i.match(/iPhone/i)?(f="iOS",e=i.indexOf("OS ")):i.match(/Android/i)?(f="Android",e=i.indexOf("Android ")):f="unknown",g="iOS"===f&&e>-1?i.substr(e+3,3).replace("_","."):"Android"===f&&e>-1?i.substr(e+8,3):"unknown",d=i.match(/iPad/i)&&"7"===g.substr(0,1),h.isIpadOnIos7=function(){return d};var m={},n=function(){m.width=a.innerWidth,m.height=a.innerHeight};n(),a.addEventListener("orientationchange",n,!1);var o=function(a){var b=h.getOsVersion();return 0===b.indexOf(a)};return h.getViewportDimensions=function(){return m},h.isInPortraitMode=function(){return m.height>m.width},h.isInLandscapeMode=function(){return!h.isInPortraitMode()},h.isTabletSize=function(){return a.screen.width>641},h.isStockAndroidBrowser=function(){return"Android"===f&&i.indexOf("Chrome")<0},h.flagOs=function(){var a=h.getHtmlTag(),b=h.getOsVersion(),c=b.length>0?b[0]:"0";a.className+=" cc-os-"+h.getOs().toLowerCase()+" cc-osv-"+c},h.flagOverflowSupport=function(){var a=h.getHtmlTag();a.className+=h.hasOverflowSupport()?" cc-has-overflow-support":" cc-has-no-overflow-support"},h.getUserAgent=function(){return i},h.getOs=function(){return f},h.getOsVersion=function(){return g},h.isAndroid2x=function(){return"Android"===h.getOs()&&o("2")},h.hasOverflowSupport=function(){return"Android"===h.getOs()?!o("2"):"iOS"===h.getOs()?!(o("1")||o("2")||o("3")||o("4")):void 0},h.hasModernFlexboxSupport=function(){if(i.match(/Firefox/i))return!1;var a=["-webkit-flex","-moz-flex","-o-flex","-ms-flex","flex"],c=b.createElement("span");return a.forEach(function(a){c.style.display=a}),a.indexOf(c.style.display)>-1},h.flagModernFlexboxSupport=function(){var a=h.getHtmlTag();a.className+=h.hasModernFlexboxSupport()?" "+j:" "+k},h.flagIpadOnIos7=function(){if(d){var a=h.getHtmlTag();a.className+=" "+l}},h.setViewportHeightToDeviceHeight=function(){h.getHtmlTag().style.height=h.getViewportDimensions().height+"px"},h})}(sofa,document);