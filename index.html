<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <title>CouchCommerce</title>
        <link rel="stylesheet" type="text/css" href="assets/app.css"/>
    </head>
    <body ng-app="sample" ng-controller="appController">
        <header class="ec-header">
            Sample app
            <span ng-show="itemCount > 0" class="ec-badge">{{itemCount}}</span>
        </header>

        <section ng-show="state === states.CATEGORIES" class="ec-view">
            <ul>
                <li class="ec-category" 
                    ng-repeat="childCategory in category.children"
                    ng-click="goDeeper(childCategory)">
                    {{childCategory.label}}
                </li>
            </ul>
        </section>

        <section ng-show="state === states.PRODUCTS" class="ec-view">
            <ul>
                <li class="ec-product-item" 
                    ng-repeat="product in products" 
                    ng-click="openProduct(product)">
                    <div class="ec-product-item__image" 
                         style="background-image:url({{ product.getImage('small') }})">
                    </div>
                    <span class="ec-product-item__caption">{{product.name}} ({{product.price | currency}})</span>
                </li>
            </ul>
        </section>

        <section ng-show="state === states.PRODUCT" class="ec-view">
            <h1>{{product.name}}</h1>
            <div class="ec-product__image" style="background-image:url({{ product.getImage('small') }})">
            </div>
            <div class="ec-container">
                <button ng-click="addToBasket(product)" 
                        class="ec-button">Kaufen ({{ product.price | currency }})
                </button>
            </div>
        </section>

        <script type="text/javascript" src="vendor/angular.js"></script>
        <script type="text/javascript" src="node_modules/sofa-base/dist/cc.js"></script>
        <script type="text/javascript" src="node_modules/sofa-base/dist/cc.angular.js"></script>
        <script type="text/javascript" src="src/app.js"></script>
        <script type="text/javascript" src="config/config.js"></script>
    </body>
</html>
